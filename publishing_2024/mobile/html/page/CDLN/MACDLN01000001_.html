<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="format-detection" content="telephone=no">


	<title>NH농협캐피탈</title>

	<!-- Publishing CSS -->
	<link rel="stylesheet" href="../../../resource/css/ui_plugin.css">
	<link rel="stylesheet" href="../../../resource/css/ui_style.css">

	<!-- Publishing JS -->
	<script src="../../../resource/js/jquery-3.6.0.min.js"></script>
	<script src="../../../resource/js/jquery-ui-1.12.1.min.js"></script>
	<script src="../../../resource/js/ui_plugin.js"></script>
	<script src="../../../resource/js/ui_common.js"></script>

	<style>
		/* dragging bottom-sheet */
#headerBlue.header{background-color:#2f6dfc;}
#headerBlue.header .header_area .header_title h2{padding-left:8px; font-family: 'SpoqaHanSansNeo'; font-size:16px; font-weight:500; color:#fff; text-align:left; opacity:1; }

.accordion_wrap{padding:0 20px}
.accordion_wrap .accordion_pack.ty_boxing { border: 0; border-radius:20px; background-color: #f3f6fb; }
.accordion_wrap .accordion_pack.ty_boxing + .accordion_pack.ty_boxing{margin-top:12px;}
.accordion_wrap .accordion_pack.ty_boxing .accordion_title{padding:20px;}
.accordion_wrap .accordion_pack.ty_boxing .accordion_title .control{position:absolute; top:50%; right:20px; margin-top:-10px; width:20px; height:20px;}
.accordion_wrap .accordion_pack.ty_boxing .accordion_title .control .ebbtn.btn_accordion{width:20px; height:20px; background: url(../../../resource/image/component/accordion_arrow02.png) no-repeat center; background-size:100%;}

.accordion_wrap .accordion_pack.ty_boxing.active{box-shadow:none;}
.accordion_wrap .accordion_pack.ty_boxing.active .accordion_title .control .ebbtn.btn_accordion{transform: rotate(180deg);}
.accordion_wrap .accordion_pack.ty_boxing.active .accordion_content{border:0;}

.contents_area.product_intro,
.contents_area.product_intro .contents {padding:0;}



.desc-area {height:400px;background-color:#2f6dfc;}

.dragging-bs {position:fixed;bottom:0;width:100%;border-radius: 18px 48px 0 0; background-color:#fff;}
.dragging-bs .cont_detail{height:calc(100% - 68px); overflow:hidden;}
.dragging-bs .cont_detail .scroll{height:100%; overflow-y:auto;}
.dragging-bs.active .cont_detail{height:calc(100% - 148px);}
.drag-handle{position:relative;}
.drag-handle:after{content:""; display:block; clear:both;}
.btn-handle { display:flex; width:100%;height:48px; border:0; border-radius: 18px 48px 0 0; background:#fff;}
.btn-handle:before {content:''; display:block; margin:12px auto 0; padding:0; width:50px; height:5px; border-radius:5px; background-color:#909090;}

	</style>
</head>
<body>
	<div class="layout">
		<div id="headerBlue" class="header">
			<div class="header_area">

				<div class="header_back">
					<a href="#" class="ebbtn btn_header_back" title="뒤로가기"></a>
				</div>
	
				<div class="header_title">
					<h2 class="ebtitle2">개인신용 신규대출</h2>
				</div>
	
				<div class="header_menu">
					<button type="button" class="ebbtn btn_header_menu" title="전체메뉴 열기"></button>
				</div>
	
			</div>
		</div>
		<div class="container">
			<!-- 여기부터 컨텐츠 -->
			<div class="contents_area product_intro"><!-- 상품소개 구분 class -->
				<div class="contents">				
					<div class="section desc-area">
						<div class="">
							<div class="data">
								<dl>
									<dt>최저 금리</dt>
									<dd>연 <span class="min">4.9</span>%</dd>
								</dl>
								<dl>
									<dt>최대 한도</dt>
									<dd><span class="max">1.5억</span>원</dd>
								</dl>
							</div>

						</div>
					</div>
					<div class="section dragging-bs">
						<div class="drag-handle">
							<button type="button" class="btn-handle"></button>
						</div>
						<div class="cont_detail">
							<div class="scroll">
								
								<!-- accordion_wrap -->
								<div class="accordion_wrap">
									<div class="accordion_pack ty_boxing">
										<div class="accordion_title" data-function="accordion" tabindex="0">
											<div class="title">한 달 대출이자를 알아볼까요?</div>
											<div class="control">
												<button type="button" class="ebbtn btn_accordion" title="아코디언열기"></button>
											</div>
										</div>
										<div class="accordion_content">
											내용
										</div>
									</div>

									<div class="accordion_pack ty_boxing">
										<div class="accordion_title" data-function="accordion" tabindex="0">
											<div class="title">상품안내</div>
											<div class="control">
												<button type="button" class="ebbtn btn_accordion" title="아코디언열기"></button>
											</div>
										</div>
										<div class="accordion_content">
											<dl class="small_title_pack">
												<dt>금리</dt>
												<dd><b>연 4.9 % ~ 19.9 %</b></dd>
											</dl>
											<dl class="small_title_pack">
												<dt>한도</dt>
												<dd>200만원 ~ 1억 5,000만원</dd>
											</dl>
											<dl class="small_title_pack">
												<dt>기간</dt>
												<dd>12, 24, 36, 48, 60, 72, 84 개월</dd>
											</dl>
											<ul class="ebullet_circle">
												<li>금리, 한도, 기간 등 대출조건은 고객의 신용평점,<br> (대출)금액 등에 따라 차등 적용됩니다.</li>
											</ul>
											<dl class="small_title_pack">
												<dt>대상</dt>
												<dd>개인, 개인사업자</dd>
											</dl>
				
										</div>
									</div>

									<div class="accordion_pack ty_boxing">
										<div class="accordion_title" data-function="accordion" tabindex="0">
											<div class="title">상품정보</div>
											<div class="control">
												<button type="button" class="ebbtn btn_accordion" title="아코디언열기"></button>
											</div>
										</div>
										<div class="accordion_content">
											내용
										</div>
									</div>

									<div class="accordion_pack ty_boxing">
										<div class="accordion_title" data-function="accordion" tabindex="0">
											<div class="title">안내 유의사항</div>
											<div class="control">
												<button type="button" class="ebbtn btn_accordion" title="아코디언열기"></button>
											</div>
										</div>
										<div class="accordion_content">
											<ul class="ebullet_circle">
												<li>계약을 체결하기 전에 금융상품설명서와 약관을 확인하시기 바랍니다.</li>
												<li><b>상환능력에 비해 대출금이 과도할 경우, 귀하의 개인신용 평점이 하락할 수 있습니다.</b></li>
												<li><b>개인신용평점 하락시 금융거래와 관련된 불이익이 발생할 수 있습니다.</b></li>
												<li>대출취급이 부적정한 경우(개인신용평점 낮음, 연체(단기포함) 사유 발생 등) 대출이 제한될 수 있습니다.</li>
												<li><b>일정기간 원리금(또는 대출금, 납부대금 등)을 연체할 경우, 모든 원리금을 변제할 의무가 발생할 수 있습니다.</b></li>
												<li>금융소비자는 금소법 제19조 제1항에 따라 해당상품에 대하여 설명을 받을 권리가 있습니다.</li>
											</ul>
											<div class="sub_info">
												※ 여신금융협회 심의필 제 2022 - L1h - 03905호<br>
												(2022.05.19 ~ 2023.05.18)
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="intro_fixed_part">
								<div class="intro_btn_box">
									<!-- 2022-05-03 수정 : 하단 버튼명, 클레스 변경 -->
									<div class="btn_box">
										<div class="box_l">
											<button type="button" class="ebbtn btn_main ty_light">전화상담신청</button>
										</div>
										<div class="box_r">
											<button type="button" class="ebbtn btn_main ty_bg">간편한도조회</button>
										</div>
									</div>
									<!-- //2022-05-03 수정 : 하단 버튼명, 클레스 변경 -->
								</div>
							</div>

						</div>
						
					</div>
				</div>
			</div>
			<!-- //여기까지 컨텐츠 -->
		</div>
	</div>

	
<script>
// 비동기로 들어오는 컨텐츠가 있는 경우 함수 실행
// pageloadFunc();


introPageFn();//소개페이지 버튼영역 함수
productAni(); //상품소개 애니메이션 함수
dargBottomSheet();
accordionReInit();

function accordionReInit(){
	var $accWrap = $('.accordion_wrap');
	
	$accWrap.find('.btn_accordion').on('click',function(){
		if($(this).closest('.accordion_pack').hasClass('active')){
			$(this).find('.btn_accordion').attr('title', '아코디언 열기');
		}else{
			$(this).find('.btn_accordion').attr('title', '아코디언 닫기');

			$(this).closest('.accordion_pack').siblings().removeClass('active');
			$(this).closest('.accordion_pack').siblings().find('.btn_accordion').attr('title', '아코디언 열기');
			$(this).closest('.accordion_pack').siblings().find('.accordion_title').attr('aria-expanded', false);
			$(this).closest('.accordion_pack').siblings().find('.accordion_content').slideUp(300);
		}
	}) 
}

function dargBottomSheet(){
	/*********************
        draggable 바텀시트     
    **********************/    
	var $bs = $('.dragging-bs');
	var $handle = $('.drag-handle');
	var wh = $(window).height();        
	var hh = $('#headerBlue').outerHeight();
	var conh = $('.desc-area').outerHeight() - 48;
	var bsh = wh - (hh + conh) + 48;
	var bsMaxH = wh - hh;
	var touchStart;
	var touchLast;
	
	// init
	$bs.height(bsh);

	// 초기 터치
	$handle.on('touchstart', function(e){
		touchStart = e.touches[0].pageY;
		touchLast = 0;// touchmove시 저장된 값 초기화
	});

	//핸들을 터치한 경우 => 바텀시트 up
	$handle.on('touchmove', function(e){
		touchLast = e.touches[0].pageY;            
		var gap = touchLast - touchStart;
		var bsIngH = bsh + (-gap);
		// console.log('마지막터치 : ', touchLast);            

		if($bs.hasClass('active')) return;// 바텀시트 펼침 상태시 패스
		if(gap < 0 && bsIngH < bsMaxH){// gap이 마이너스 값임 && 드래그시 bsMaxH까지 높이 적용
			$bs.height(bsIngH);
		}
		$('body').css('overflow', 'hidden');
	});

	$handle.on('touchend', function(e){
		if((touchStart - touchLast) > 0 && touchLast != 0){// up
			$bs.animate({
				'height' : bsMaxH
			}, 200, "swing");

			$('.dragging-bs').addClass('active');
			$('.intro_fixed_part').addClass('show');
		}else if((touchStart - touchLast) < 0 && touchLast != 0){// down
			$bs.animate({
				'height' : bsh
			}, 300, "swing");

			$('.dragging-bs').removeClass('active');
			$('.intro_fixed_part').removeClass('show');
		}       
	});

	// 드래그 테스트
	// $('body').on("touchstart", function (e) {
	// 	console.log('touchstart : ',  e.touches[0].pageY)
	// })

	// $('body').on("touchmove", function (e) {
	// 	console.log('touchmove : ',  e.touches[0].pageY)
	// })

	// $('body').on("touchend", function (e) {
	// 	console.log('touchend : ')
	// })
}
</script>


</body>
</html>